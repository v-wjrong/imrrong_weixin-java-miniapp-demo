[Go to Homepage](../README.md)

## Project Overview
### Basic Project Information
- **Name:** spring-boot-demo-for-wechat-miniapp  
- **GroupId (Maven):** com.github.binarywang  
- **ArtifactId (Maven):** weixin-java-miniapp-demo  
- **Version:** 1.0.0-SNAPSHOT  
- **Primary Programming Language:** Java  

## Prerequisites
- **JDK Version:** 1.8 (inferred from Maven's `<maven.compiler.source>` and `<maven.compiler.target>` properties)  
- **Build Tool Version:** Maven (identified from `pom.xml`, recommended to use a Maven version compatible with Spring Boot 2.6.3, typically Maven 3.6.3+)  
- **Network Connection Middleware Dependencies:**  
  - Redis (inferred from `jedis` dependency, but no explicit version specified; defaults to the version managed by Spring Boot parent POM)  

## Build Guide
### Maven Build  
- Build Commands:  
    - Clean build: `mvn clean`  
    - Compile project: `mvn compile`  
    - Package project: `mvn package`  
    - Install to local repository: `mvn install`  
    - Deploy project: `mvn deploy`  
- Build Process:  
    - The Maven build process mainly includes the following phases:  
        1. Clean: Deletes files generated by previous builds  
        2. Validate: Verifies the project is correct and all necessary information is available  
        3. Compile: Compiles the project's source code  
        4. Test: Runs tests using an appropriate unit testing framework  
        5. Package: Packages the compiled code into a distributable format (e.g., JAR)  
        6. Verify: Checks the results of integration tests  
        7. Install: Installs the package into the local repository  
        8. Deploy: Copies the final package to a remote repository  
- Output Directory:  
    - Built files are located in the `target/` directory by default  
    - The main output file is `target/<artifactId>-<version>.jar`  
    - Test reports are located in `target/surefire-reports/`  
    - The project also includes Docker build configuration; the Dockerfile should be in the `src/main/docker/` directory  

## Dependency Management
### Main Dependencies
- **Spring Boot Core Dependencies:**  
  - `spring-boot-starter-web`: Web application support (version inherited from parent POM 2.6.3)  
  - `spring-boot-starter-thymeleaf`: Thymeleaf template engine integration  
  - `spring-boot-configuration-processor`: Configuration metadata generation (optional)  
- **WeChat Mini Program SDK:**  
  - `weixin-java-miniapp`: WeChat Mini Program Java SDK (version 4.7.0 managed via `${weixin-java-miniapp.version}`)  
- **Utility Libraries:**  
  - `commons-fileupload`: File upload functionality (version 1.5)  
  - `lombok`: Code simplification tool (provided scope)  
  - `jedis`: Redis client (version inherited from parent POM)  
- **Test Dependencies:**  
  - `spring-boot-starter-test`: Test support (test scope)  

### Adding/Modifying Dependencies
- **Maven:** Add or modify `<dependency>` elements within the `<dependencies>` tag in the `pom.xml` file. For example:  
  ```xml
  <dependency>
      <groupId>org.example</groupId>
      <artifactId>new-dependency</artifactId>
      <version>1.0.0</version>
  </dependency>
  ```

### Dependency Version Management
- **Maven (`<dependencyManagement>`):**  
  This example uses the parent POM (`spring-boot-starter-parent`) to uniformly manage most dependency versions. Some versions are centrally defined via `<properties>` (e.g., `${weixin-java-miniapp.version}`). For custom version management, declare versions in `<dependencyManagement>`, and child modules do not need to specify versions repeatedly.

## Project Structure

```text
weixin-java-miniapp-demo/
├── .editorconfig        # Editor configuration (standardized settings)
├── .gitignore          # Git ignore rules
├── README.md           # Project documentation
├── .travis.yml         # CI/CD configuration (Travis CI)
├── pom.xml             # Maven project configuration file
├── commit.sh           # Git commit script (presumed)
├── src/
│   ├── main/
│   │   ├── resources/
│   │   │   ├── application.yml.template  # Spring Boot configuration template
│   │   │   ├── tmp.png                   # Temporary image resource (presumed)
│   │   │   ├── templates/
│   │   │   │   └── error.html           # Error page template
│   │   │   └── META-INF/
│   │   │       └── additional-spring-configuration-metadata.json  # Spring configuration metadata
│   │   ├── java/
│   │   │   └── com/github/binarywang/demo/wx/miniapp/
│   │   │       ├── WxMaDemoApplication.java  # Spring Boot main class
│   │   │       ├── controller/
│   │   │       │   ├── WxMaMediaController.java  # WeChat media API controller
│   │   │       │   ├── WxMaUserController.java   # WeChat user API controller
│   │   │       │   └── WxPortalController.java   # WeChat entry controller
│   │   │       ├── utils/
│   │   │       │   ├── JsonUtils.java       # JSON utility class
│   │   │       │   └── FileUploadUtils.java # File upload utility
│   │   │       ├── error/
│   │   │       │   ├── ErrorController.java       # Error handling controller
│   │   │       │   └── ErrorPageConfiguration.java  # Error page configuration
│   │   │       └── config/
│   │   │           ├── WxMaProperties.java     # WeChat configuration properties class
│   │   │           ├── WxMaConfiguration.java  # WeChat configuration class
│   │   │           └── ResourcesConfig.java    # Resource path configuration
│   │   └── docker/
│   │       └── Dockerfile  # Container deployment configuration
└── .git/                  # Git version control directory (standard structure)
```

Naming convention: All lowercase with hyphens (e.g., wx-miniapp). Java package paths follow reverse domain naming (com.github.*).
Layered structure: Standard Spring Boot layers including controller (API entry), config (centralized configuration), utils (utility classes), and error (unified exception handling).
Extension design: Supports containerized deployment via a dedicated docker directory, with resources/templates enabling frontend-backend separated error page rendering.